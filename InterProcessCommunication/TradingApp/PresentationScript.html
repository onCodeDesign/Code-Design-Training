<!DOCTYPE html>
<html>
<head>
    <title>Presentation Script</title>
</head>
<body>

    <h1 id="presentation-script">Presentation Script</h1>
<h4 id="preset-vs-solution.it-has">0.	Preset VS solution. It has:</h4>
<ul>
<li>Infrastructure &amp; Modules</li>
<li>Projects for modules and host</li>
</ul>
<p><strong>Points:</strong></p>
<ul>
<li>In Contracts only  interfaces and DTOs. No logic</li>
<li>No references between Module assemblies
<ul>
<li>these are OperationContracts, DataContracts, FaultContracts</li>
</ul>
</li>
</ul>
<h4 id="create-code-the-iquotationservice-in-contracts">1.	Create (code) the <code>IQuotationService</code> in <code>Contracts</code></h4>
<p><strong>Points:</strong></p>
<ul>
<li>It�s an <em>System Contract</em> (any subsytem can use it)</li>
<li>Will be implemented by QuotationModule and used by other modules</li>
<li>Has to have only DTOs which can be serialized w/ many serializers (prefere array rather than abstract types)</li>
</ul>
<h4 id="implement-the-quotationservice-in-quotationmodule">2. Implement the <code>QuotationService</code> in <code>QuotationModule</code></h4>
<pre><code>class QuotationService : IQuotationService
    {
        private readonly Quotation[] array = 
            {
                new Quotation {AskPrice = 10.50m, BidPrice = 10.55m, SecurityCode = &quot;ING.S.NYSE&quot;},
                new Quotation {AskPrice = 12.50m, BidPrice = 12.55m, SecurityCode = &quot;ING.B.NYSE&quot;},
                new Quotation {AskPrice = 10.70m, BidPrice = 10.75m, SecurityCode = &quot;AAPL.B.NASDAQ&quot;},
                new Quotation {AskPrice = 11.50m, BidPrice = 11.55m, SecurityCode = &quot;AAPL.S.NASDAQ&quot;},
                new Quotation {AskPrice = 16.50m, BidPrice = 16.55m, SecurityCode = &quot;MSFT.B.NASDAQ&quot;},
                new Quotation {AskPrice = 17.50m, BidPrice = 17.55m, SecurityCode = &quot;ING.B.AEX&quot;},
                new Quotation {AskPrice = 10.51m, BidPrice = 10.59m, SecurityCode = &quot;ING.S.AEX&quot;},
            };
        
        public Quotation[] GetQuotations(string exchange, string instrument, DateTime @from, DateTime to)
        {
            var result = array.Where(q =&gt; q.SecurityCode.Contains(exchange));

            if (!string.IsNullOrWhiteSpace(instrument))
                result = result.Where(q =&gt; q.SecurityCode.Contains(instrument));

            return result.ToArray();
        }

        public Quotation[] GetQuotations(string securityCode, DateTime @from, DateTime to)
        {
            return array.Where(q =&gt; q.SecurityCode == securityCode).ToArray();
        }
    }
</code></pre>
<h4 id="implement-orderingservice-in-salesmodule">3. Implement <code>OrderingService</code> in <code>SalesModule</code></h4>
<p><strong>Points:</strong></p>
<ul>
<li>Depends on the <strong>contract</strong> of the QuotationService NOT on the implementation</li>
<li>No references among the modules. Look at the <em>Project Dependency Diagram</em></li>
<li>We need a way to link things at runtime</li>
</ul>
<h4 id="implement-portfolioservice-in-portfoliomodule">4. Implement <code>PortfolioService</code> in <code>PortfolioModule</code></h4>
<p><strong>Points:</strong></p>
<ul>
<li>Depends on the <strong>contract</strong> of the QuotationService NOT on the implementation</li>
<li>Its contract is also part of the <code>Contracts</code> assembly because it will be called from the UI, which will be hosted in a different process.
<ul>
<li>the point of this demo is not necessarely the communication between BE and FE, which might be done differently from the communication between BE components.</li>
<li>however in most cases it is done in the same way, therefore it makes sens to add it in contracts.</li>
</ul>
</li>
</ul>
<h4 id="introduce-iquarc.appboot">5. Introduce iQuarc.AppBoot</h4>
<ul>
<li>Show that at this point the modules and services are not linked
<ul>
<li>they exist as libraries but no one loads / uses them</li>
<li>have a look on the <em>Project Dependencies Diagram</em></li>
</ul>
</li>
<li>Install <code>iQuarc.AppBoot</code> for the projects in <code>\Modules\</code>
<ul>
<li><code>iQuarc.AppBoot.Unity</code> is installed <strong>only</strong> in the host (the rest do not need to depend on Unity)</li>
</ul>
</li>
<li>The <code>ConsoleHost</code> be the process that will host the BE services
<ul>
<li>in production this would be an web server (IIS) or a cloud service (Azure CloudService).</li>
</ul>
</li>
<li>We add a ConsoleUi for to demo how services are linked and used by the AppBoot.</li>
</ul>
<h4 id="bootstrapp-iquarc.appboot">6. Bootstrapp iQuarc.AppBoot</h4>
<ul>
<li>Setup the names of the assemblies that compose the app and need to be loaded by AppBoot</li>
<li>Setup the projects to build in a upper <code>bin</code> folder, so they can be loaded in Debug env</li>
<li>Decorate all implementations w/ <code>ServiceAttribute</code></li>
</ul>


</body>
</html>